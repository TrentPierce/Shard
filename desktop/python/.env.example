# Shard API Environment Configuration
# Copy this file to .env and update the values for your deployment

# ─── API Configuration ────────────────────────────────────────────────────────

# Comma-separated list of valid API keys
# When set, clients must provide a valid key via Authorization or X-API-Key header
# Example: key1,key2,key3
SHARD_API_KEYS=

# Rate limit per minute per client
# Default: 60
SHARD_RATE_LIMIT_PER_MINUTE=60

# Maximum prompt length in characters
# Default: 16000
SHARD_MAX_PROMPT_CHARS=16000

# Allowed CORS origins (comma-separated)
# Default: http://localhost:3000,http://127.0.0.1:3000
SHARD_CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Rust sidecar control plane URL
# Default: http://127.0.0.1:9091
SHARD_RUST_URL=http://127.0.0.1:9091

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Default: INFO
SHARD_LOG_LEVEL=INFO

# ─── Golden Ticket Security ───────────────────────────────────────────────────

# Probability (0.0-1.0) of injecting a Golden Ticket into work requests
# Default: 0.05 (5%)
SHARD_GOLDEN_TICKET_RATE=0.05

# Minimum accuracy threshold for scouts (0.0-1.0)
# Scouts below this threshold are banned
# Default: 0.7 (70%)
SHARD_REPUTATION_THRESHOLD=0.7

# Minimum Golden Ticket attempts before ban decision
# Default: 3
SHARD_MIN_ATTEMPTS_BEFORE_BAN=3

# Ban duration in hours (0 = permanent)
# Default: 24
SHARD_BAN_DURATION_HOURS=24

# Path to banned scouts list (JSON)
# Default: ./data/banned_scouts.json
SHARD_BANNED_LIST_PATH=./data/banned_scouts.json

# Path to scout reputation database (JSON)
# Default: ./data/scout_reputation.json
SHARD_REPUTATION_DB_PATH=./data/scout_reputation.json

# ─── BitNet Model Configuration ───────────────────────────────────────────────

# Path to BitNet library
# BITNET_LIB=/path/to/libbitnet.so

# Path to BitNet model
# BITNET_MODEL=/path/to/model.bin

# ─── Example Production Configuration ─────────────────────────────────────────

# SHARD_API_KEYS=prod_key_1,prod_key_2
# SHARD_RATE_LIMIT_PER_MINUTE=120
# SHARD_MAX_PROMPT_CHARS=32000
# SHARD_CORS_ORIGINS=https://shard.network,https://app.shard.network
# SHARD_RUST_URL=http://localhost:9091
# SHARD_LOG_LEVEL=WARNING
# SHARD_GOLDEN_TICKET_RATE=0.1
